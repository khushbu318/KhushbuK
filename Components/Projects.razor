@using PortfolioSite.Models
@inject IJSRuntime JS

<section id="projects" class="projects__section">
    <div class="projects__container">
        <h2 class="projects__title">Projects</h2>

        <div class="projects__grid">
            @foreach (var project in UserData.Projects)
            {
                <div class="projects__card">
                    <h3>@project.Title</h3>

                    <p>@project.Description</p>

                    <div class="projects__tech-stack">
                        @foreach (var tech in project.Technologies)
                        {
                            <span class="projects__tech-badge">@tech</span>
                        }
                    </div>

                    <!-- <a href="@project.GithubLink"
                       target="_blank"
                       class="projects__btn">
                        View Code â†’
                    </a> -->
                </div>
            }
        </div>
    </div>
</section>

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JS.InvokeVoidAsync("observeProjects");
        }
    }
}
